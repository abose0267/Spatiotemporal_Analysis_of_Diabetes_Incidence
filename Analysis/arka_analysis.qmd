
---
title: "Exploring Data Analysis"
author: "Arka Bose"
format: pdf
---

```{r}
data <- read.csv("../Data/data.csv")



```

```{r}
```
```{r}
library(sf)
library(dplyr)
library(ggplot2)
spatial_data <- st_read("../Data/shapes/texas")

data <- data %>%
  group_by(BLKGRPCE) %>%
  summarise_all(mean, na.rm = TRUE)



merged_data <- merge(data, spatial_data, by = "BLKGRPCE")
colnames(merged_data)
```
```{r}

merged_data$geometry
```
```{r}
merged_sf <- st_as_sf(merged_data)

# Plot the spatial data with ggplot
ggplot() +
  geom_sf(data = merged_sf, aes(fill = NatWalkInd)) 
```
```{r}
spatial_data <- st_read("../Data/shapes/ny")

data <- data %>%
  group_by(BLKGRPCE) %>%
  summarise_all(mean, na.rm = TRUE)



merged_data <- merge(data, spatial_data, by = "BLKGRPCE")


merged_sf <- st_as_sf(merged_data)

# Plot the spatial data with ggplot
ggplot() +
  geom_sf(data = merged_sf, aes(fill = NatWalkInd)) 
```


```{r}
data3 <- read.csv("../Data/500cities.csv")


library(stringr)
library(dplyr)
library(sf)
library(ggplot2)
regex_pattern <- "\\((-?\\d+\\.\\d+),\\s*(-?\\d+\\.\\d+)\\)"
data3$latitude =  as.numeric(str_match(data3$GeoLocation, regex_pattern)[, 2])
data3$longitude =  as.numeric(str_match(data3$GeoLocation, regex_pattern)[, 3])
options(digits = 10)
data3$latitude


filtered_df_subset <- subset(data3, DataValueTypeID == "CrdPrv")
ggplot(filtered_df_subset, aes(x = longitude, y = latitude,color=Data_Value)) +
  geom_point() +
  ggtitle("Spatial Plot with Latitude and Longitude") +
  xlab("Longitude") +
  ylab("Latitude") +
  theme_minimal()


data3$Short_Question_Text

```
Based on this data set, we can see that the the crude prevalence of type II diabetes seems to be consistently low along the west coast (California and Washington area). This may be because those areas promote healthy lifestyles and have areas to go exercise or hike
